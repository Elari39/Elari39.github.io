<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Python on Elari的博客</title><link>https://Elari39.github.io/tags/python/</link><description>Recent content from Elari的博客</description><generator>Hugo</generator><language>zh-cn</language><managingEditor>majo_elaina@qq.com (Elari39)</managingEditor><webMaster>majo_elaina@qq.com (Elari39)</webMaster><copyright>本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</copyright><lastBuildDate>Mon, 16 Feb 2026 20:00:00 +0800</lastBuildDate><atom:link href="https://Elari39.github.io/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>在 Hugo 博客中使用阿里云 OSS 托管图片（含自动化迁移脚本）</title><link>https://Elari39.github.io/post/hugooss/</link><pubDate>Mon, 16 Feb 2026 20:00:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/hugooss/</guid><description>
<![CDATA[<h1>在 Hugo 博客中使用阿里云 OSS 托管图片（含自动化迁移脚本）</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <p>随着博客文章的增多，本地图片的管理和加载速度逐渐成为瓶颈。将图片托管到对象存储（如阿里云 OSS）不仅可以提升访问速度，还能减轻 Git 仓库的体积压力。</p>
<p>本文将详细介绍如何配置阿里云 OSS，并分享一个自动化脚本，帮助你一键迁移现有图片。</p>
<h2 id="为什么要用-oss">
<a class="header-anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e7%94%a8-oss"></a>
为什么要用 OSS？
</h2><ol>
<li><strong>访问速度快</strong>：配合 CDN，可以实现全球加速。</li>
<li><strong>节省流量</strong>：Git 仓库不再臃肿，克隆速度更快。</li>
<li><strong>管理方便</strong>：统一的云端管理，支持防盗链、水印等功能。</li>
</ol>
<h2 id="第一步阿里云-oss-配置">
<a class="header-anchor" href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e9%98%bf%e9%87%8c%e4%ba%91-oss-%e9%85%8d%e7%bd%ae"></a>
第一步：阿里云 OSS 配置
</h2><h3 id="1-创建-bucket">
<a class="header-anchor" href="#1-%e5%88%9b%e5%bb%ba-bucket"></a>
1. 创建 Bucket
</h3><p>登录 <a href="https://oss.console.aliyun.com/">阿里云 OSS 控制台</a>，点击“创建 Bucket”。</p>
<ul>
<li><strong>区域</strong>：选择离你（或你的受众）最近的区域。</li>
<li><strong>存储类型</strong>：标准存储。</li>
<li><strong>读写权限</strong>：<strong>公共读</strong>（必须，否则访客无法看到图片）。</li>
</ul>
<h3 id="2-获取-accesskey">
<a class="header-anchor" href="#2-%e8%8e%b7%e5%8f%96-accesskey"></a>
2. 获取 AccessKey
</h3><p>为了让脚本能自动上传图片，我们需要创建一个 AccessKey。</p>
<ol>
<li>进入 <a href="https://ram.console.aliyun.com/">RAM 访问控制</a>。</li>
<li>创建一个新用户，勾选“OpenAPI 调用访问”。</li>
<li>给该用户授权 <code>AliyunOSSFullAccess</code>（或者更精细的 <code>AliyunOSSWriteAccess</code>）。</li>
<li>记录下 <code>AccessKey ID</code> 和 <code>AccessKey Secret</code>。</li>
</ol>
<h2 id="第二步自动化迁移脚本">
<a class="header-anchor" href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e8%87%aa%e5%8a%a8%e5%8c%96%e8%bf%81%e7%a7%bb%e8%84%9a%e6%9c%ac"></a>
第二步：自动化迁移脚本
</h2><p>为了避免手动一张张上传和替换链接的繁琐，我编写了一个 Python 脚本。它会自动扫描 <code>content</code> 目录下的所有 Markdown 文件，识别本地图片引用，上传到 OSS，并替换为云端链接。</p>
<h3 id="1-准备环境">
<a class="header-anchor" href="#1-%e5%87%86%e5%a4%87%e7%8e%af%e5%a2%83"></a>
1. 准备环境
</h3><p>在博客根目录下创建 <code>.env</code> 文件，填入你的密钥（<strong>注意不要提交到 Git</strong>）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">OSS_ACCESS_KEY_ID</span><span class="o">=</span><span class="s">你的AccessKeyID</span>
</span></span><span class="line"><span class="cl"><span class="na">OSS_ACCESS_KEY_SECRET</span><span class="o">=</span><span class="s">你的AccessKeySecret</span>
</span></span></code></pre></div><p>确保 <code>.gitignore</code> 中包含 <code>.env</code>。</p>
        
        <hr><p>本文2026-02-16首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-16</p>]]></description><category>Hugo</category><category>技术教程</category></item></channel></rss>