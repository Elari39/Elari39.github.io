<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Elari的博客</title><link>https://Elari39.github.io/</link><description>Recent content from Elari的博客</description><generator>Hugo</generator><language>zh-cn</language><managingEditor>majo_elaina@qq.com (Elari39)</managingEditor><webMaster>majo_elaina@qq.com (Elari39)</webMaster><copyright>本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！</copyright><lastBuildDate>Sat, 21 Feb 2026 13:00:00 +0800</lastBuildDate><atom:link href="https://Elari39.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Day 03: 数组篇总结</title><link>https://Elari39.github.io/post/algorithm/day03/</link><pubDate>Sat, 21 Feb 2026 13:00:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/algorithm/day03/</guid><description>
<![CDATA[<h1>Day 03: 数组篇总结</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <h1 id="数组篇总结">
<a class="header-anchor" href="#%e6%95%b0%e7%bb%84%e7%af%87%e6%80%bb%e7%bb%93"></a>
数组篇总结
</h1><p>今天是<strong>代码随想录</strong>算法训练营的第三天，我们已经完成了数组篇的学习。数组作为最基础的数据结构，虽然看似简单，但其中蕴含的算法思想（如二分、双指针、滑动窗口）却是解决复杂问题的基石。</p>
<p>在这篇文章中，我们将对过去两天学习的<strong>数组理论</strong>、<strong>经典算法</strong>以及 <strong>Go 语言实现细节</strong>进行一次系统性的总结，帮助大家构建完整的知识体系。</p>
<hr>
<h2 id="一数组理论基础回顾">
<a class="header-anchor" href="#%e4%b8%80%e6%95%b0%e7%bb%84%e7%90%86%e8%ae%ba%e5%9f%ba%e7%a1%80%e5%9b%9e%e9%a1%be"></a>
一、数组理论基础回顾
</h2><h3 id="1-内存模型">
<a class="header-anchor" href="#1-%e5%86%85%e5%ad%98%e6%a8%a1%e5%9e%8b"></a>
1. 内存模型
</h3><ul>
<li><strong>定义</strong>：数组是存放在<strong>连续内存空间</strong>上的相同类型数据的集合。</li>
<li><strong>特性</strong>：
<ul>
<li><strong>随机访问</strong>：可以通过下标直接访问元素，时间复杂度为 <code>O(1)</code>。</li>
<li><strong>插入/删除</strong>：由于需要移动后续元素以保持连续性，时间复杂度为 <code>O(n)</code>。</li>
</ul>
</li>
<li><strong>注意</strong>：在 C++ 中二维数组也是连续的，但在 Go (以及 Java) 中，二维数组（切片）是切片的切片，内存上不一定连续。</li>
</ul>
<h3 id="2-go-语言中的数组与切片">
<a class="header-anchor" href="#2-go-%e8%af%ad%e8%a8%80%e4%b8%ad%e7%9a%84%e6%95%b0%e7%bb%84%e4%b8%8e%e5%88%87%e7%89%87"></a>
2. Go 语言中的数组与切片
</h3><ul>
<li><strong>数组 (Array)</strong>：固定长度，值类型。传递给函数时会发生拷贝。</li>
<li><strong>切片 (Slice)</strong>：动态长度，引用类型（底层指向数组）。算法题中主要使用切片。
<ul>
<li><strong>初始化</strong>：<code>make([]int, len, cap)</code> 或 <code>[]int{}</code>。</li>
<li><strong>底层原理</strong>：包含指针、长度 (<code>len</code>) 和容量 (<code>cap</code>)。扩容时可能会发生内存重新分配和拷贝。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="二四大经典解题套路">
<a class="header-anchor" href="#%e4%ba%8c%e5%9b%9b%e5%a4%a7%e7%bb%8f%e5%85%b8%e8%a7%a3%e9%a2%98%e5%a5%97%e8%b7%af"></a>
二、四大经典解题套路
</h2><p>我们在 <code>704. 二分查找</code>、<code>27. 移除元素</code>、<code>977. 有序数组的平方</code>、<code>209. 长度最小的子数组</code> 和 <code>59. 螺旋矩阵 II</code> 中重点练习了以下四种方法：</p>
<h3 id="1-二分查找-binary-search">
<a class="header-anchor" href="#1-%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be-binary-search"></a>
1. 二分查找 (Binary Search)
</h3><ul>
<li><strong>适用场景</strong>：<strong>有序</strong>数组、无重复元素（通常）。</li>
<li><strong>核心思想</strong>：每次比较将查找范围缩小一半。</li>
<li><strong>关键点</strong>：<strong>循环不变量</strong>（Loop Invariant）。
<ul>
<li><strong>左闭右闭</strong> <code>[left, right]</code>：
<ul>
<li>初始化：<code>right = len(nums) - 1</code></li>
<li>循环条件：<code>left &lt;= right</code></li>
<li>更新：<code>right = mid - 1</code></li>
</ul>
</li>
<li><strong>左闭右开</strong> <code>[left, right)</code>：
<ul>
<li>初始化：<code>right = len(nums)</code></li>
<li>循环条件：<code>left &lt; right</code></li>
<li>更新：<code>right = mid</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>Go 实现细节</strong>：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">mid</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">right</span><span class="o">-</span><span class="nx">left</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="w"> </span><span class="c1">// 防止溢出，位运算更高效</span><span class="w">
</span></span></span></code></pre></div></li>
</ul>
<h3 id="2-双指针法-two-pointers">
<a class="header-anchor" href="#2-%e5%8f%8c%e6%8c%87%e9%92%88%e6%b3%95-two-pointers"></a>
2. 双指针法 (Two Pointers)
</h3><ul>
<li><strong>核心思想</strong>：通过两个指针在一个 <code>for</code> 循环下完成两个 <code>for</code> 循环的工作，将 <code>O(n²)</code> 优化为 <code>O(n)</code>。</li>
<li><strong>常见形式</strong>：
<ul>
<li><strong>快慢指针</strong>（<code>27. 移除元素</code>）：
<ul>
<li><code>fast</code> 指针：寻找新数组的元素（不包含目标值的元素）。</li>
<li><code>slow</code> 指针：指向新数组更新的位置。</li>
<li><strong>原地修改</strong>，空间复杂度 <code>O(1)</code>。</li>
</ul>
</li>
<li><strong>左右指针</strong>（<code>977. 有序数组的平方</code>）：
<ul>
<li>利用数组<strong>有序</strong>（或部分有序）的特性，从两端向中间遍历。</li>
<li>解决负数平方后变大的问题，从两头向中间填充结果数组。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-滑动窗口-sliding-window">
<a class="header-anchor" href="#3-%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3-sliding-window"></a>
3. 滑动窗口 (Sliding Window)
</h3><ul>
<li><strong>适用场景</strong>：寻找满足特定条件的<strong>连续</strong>子数组（如最小长度、最大和）。</li>
<li><strong>核心思想</strong>：
<ul>
<li><strong>本质</strong>：也是双指针的一种，但侧重于维护一个“窗口”。</li>
<li><strong>操作</strong>：<code>right</code> 主动向右扩展窗口，当窗口满足条件时，<code>left</code> 被动向右收缩窗口。</li>
</ul>
</li>
<li><strong>关键点</strong>：
<ul>
<li>窗口内是什么？</li>
<li>什么条件下移动起始位置（收缩窗口）？</li>
<li>移动起始位置时，窗口内数据如何更新？</li>
</ul>
</li>
<li><strong>复杂度</strong>：每个元素最多进窗口一次、出窗口一次，时间复杂度 <code>O(n)</code>。</li>
</ul>
<h3 id="4-模拟-simulation">
<a class="header-anchor" href="#4-%e6%a8%a1%e6%8b%9f-simulation"></a>
4. 模拟 (Simulation)
</h3><ul>
<li><strong>适用场景</strong>：逻辑复杂、边界条件多的题目（如 <code>59. 螺旋矩阵 II</code>）。</li>
<li><strong>核心思想</strong>：不涉及复杂算法，而是单纯模拟过程。</li>
<li><strong>关键点</strong>：<strong>循环不变量</strong>。
<ul>
<li>例如画圈，必须坚持统一的原则（如“左闭右开”），每条边处理规则要一致，避免混乱。</li>
<li>边界处理要仔细（奇数中间点、拐角处）。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="三go-语言刷题小贴士">
<a class="header-anchor" href="#%e4%b8%89go-%e8%af%ad%e8%a8%80%e5%88%b7%e9%a2%98%e5%b0%8f%e8%b4%b4%e5%a3%ab"></a>
三、Go 语言刷题小贴士
</h2><ol>
<li><strong>切片越界</strong>：Go 对切片越界检查很严格，运行时会 panic，务必注意边界条件（如 <code>right &lt; len(nums)</code>）。</li>
<li><strong>变量声明</strong>：使用 <code>:=</code> 简短声明非常方便，但要注意不要在 <code>if/for</code> 块内意外遮蔽（shadow）外部变量。</li>
<li><strong>内置函数</strong>：
<ul>
<li><code>sort.Ints(nums)</code>：快速排序。</li>
<li><code>math.Max</code>, <code>math.Min</code>：注意它们接收 <code>float64</code>，处理 <code>int</code> 时通常自己写辅助函数更方便（或强转）。</li>
<li>Go 标准库没有直接的 <code>abs</code> (int)，建议手写简单的 <code>abs</code> 函数。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="四总结">
<a class="header-anchor" href="#%e5%9b%9b%e6%80%bb%e7%bb%93"></a>
四、总结
</h2><p>数组篇的结束通过几道经典题目，让我们掌握了<strong>操作索引</strong>的核心能力。无论是二分法的区间控制，还是双指针的精妙移动，亦或是滑动窗口的动态伸缩，本质上都是在<strong>高效地利用数组的连续性</strong>。</p>
        
        <hr><p>本文2026-02-21首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-21</p>]]></description><category>代码随想录</category></item><item><title>Day 02: 数组 - 双指针、滑动窗口与模拟</title><link>https://Elari39.github.io/post/algorithm/day02/</link><pubDate>Fri, 20 Feb 2026 13:00:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/algorithm/day02/</guid><description>
<![CDATA[<h1>Day 02: 数组 - 双指针、滑动窗口与模拟</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <h1 id="数组---双指针滑动窗口与模拟">
<a class="header-anchor" href="#%e6%95%b0%e7%bb%84---%e5%8f%8c%e6%8c%87%e9%92%88%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3%e4%b8%8e%e6%a8%a1%e6%8b%9f"></a>
数组 - 双指针、滑动窗口与模拟
</h1><p>今天是<strong>代码随想录</strong>数组专题第二天！昨天打好了理论基础，今天我们重点学习数组中极具代表性的三大高频技巧：<strong>双指针法</strong>（处理有序数组）、<strong>滑动窗口</strong>（用于求最小长度连续子数组）和<strong>边界模拟</strong>（生成螺旋矩阵）。掌握这些套路后，处理区间、矩阵类问题将事半功倍。</p>
<p>我们继续用 <strong>Go 语言</strong> 手撕以下三道经典题目，每道题都会附上<strong>完整可运行代码 + 逐行详细解析</strong>，帮助你彻底吃透实现细节。</p>
<h2 id="题目列表">
<a class="header-anchor" href="#%e9%a2%98%e7%9b%ae%e5%88%97%e8%a1%a8"></a>
题目列表
</h2><ul>
<li><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/">977. 有序数组的平方</a></li>
<li><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/">209. 长度最小的子数组</a></li>
<li><a href="https://leetcode.cn/problems/spiral-matrix-ii/">59. 螺旋矩阵 II</a></li>
</ul>
<hr>
<h2 id="977-有序数组的平方">
<a class="header-anchor" href="#977-%e6%9c%89%e5%ba%8f%e6%95%b0%e7%bb%84%e7%9a%84%e5%b9%b3%e6%96%b9"></a>
977. 有序数组的平方
</h2><p><strong>题目描述</strong>：给你一个按 <strong>非递减顺序</strong> 排序的整数数组 <code>nums</code>，返回每个数字的平方组成的新数组，要求也按非递减顺序排序。</p>
<p><strong>Go 代码实现</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span><span class="w"> </span><span class="nf">sortedSquares</span><span class="p">(</span><span class="nx">nums</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">n</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">nums</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">left</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">res</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">n</span><span class="p">)</span><span class="w"> </span><span class="c1">// 结果数组</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">--</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">])</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">res</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">left</span><span class="o">++</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">res</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">right</span><span class="o">--</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="c1">// 辅助函数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kd">func</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="nx">x</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><strong>详细解析</strong>（逐行讲解）：</p>
        
        <hr><p>本文2026-02-20首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-20</p>]]></description><category>代码随想录</category></item><item><title>Day 01: 数组理论基础</title><link>https://Elari39.github.io/post/algorithm/day01/</link><pubDate>Thu, 19 Feb 2026 13:00:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/algorithm/day01/</guid><description>
<![CDATA[<h1>Day 01: 数组理论基础</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <h1 id="数组理论基础">
<a class="header-anchor" href="#%e6%95%b0%e7%bb%84%e7%90%86%e8%ae%ba%e5%9f%ba%e7%a1%80"></a>
数组理论基础
</h1><p>今天正式开启<strong>代码随想录</strong>的学习之旅！作为第一天，我们重点复习数组的基础知识和常用技巧。数组在 Go 中以切片（slice）形式存在，掌握好切片的底层操作、双指针、二分查找等，是后续所有算法题的基石。</p>
<p>今天我们一起用 <strong>Go 语言</strong> 手撕以下三道经典数组题目，每道题都会附上<strong>完整可运行代码 + 逐行详细解析</strong>，帮助你彻底吃透实现细节。</p>
<h2 id="题目列表">
<a class="header-anchor" href="#%e9%a2%98%e7%9b%ae%e5%88%97%e8%a1%a8"></a>
题目列表
</h2><ul>
<li><a href="https://leetcode.cn/problems/binary-search/">704. 二分查找</a></li>
<li><a href="https://leetcode.cn/problems/remove-element/">27. 移除元素</a></li>
<li><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/">977. 有序数组的平方</a></li>
</ul>
<hr>
<h2 id="704-二分查找">
<a class="header-anchor" href="#704-%e4%ba%8c%e5%88%86%e6%9f%a5%e6%89%be"></a>
704. 二分查找
</h2><p><strong>题目描述</strong>：给定一个升序排列的整数数组 <code>nums</code> 和一个目标值 <code>target</code>，在数组中搜索 <code>target</code>，如果存在返回下标，否则返回 <code>-1</code>。要求时间复杂度 <code>O(log n)</code>。</p>
<p><strong>Go 代码实现</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span><span class="w"> </span><span class="nf">search</span><span class="p">(</span><span class="nx">nums</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">left</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">nums</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nx">right</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 防止溢出（Go int 虽然不会像 C++ 那样轻易溢出，但这是好习惯）</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">mid</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">right</span><span class="o">-</span><span class="nx">left</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">mid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">nums</span><span class="p">[</span><span class="nx">mid</span><span class="p">]</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">left</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">mid</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">right</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">mid</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><strong>详细解析</strong>（逐行讲解）：</p>
        
        <hr><p>本文2026-02-19首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-19</p>]]></description><category>代码随想录</category></item><item><title>GoHttp库</title><link>https://Elari39.github.io/post/gohttpv1/</link><pubDate>Tue, 17 Feb 2026 19:41:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/gohttpv1/</guid><description>
<![CDATA[<h1>GoHttp库</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          Go 语言的 net/http 标准库是构建 HTTP 服务端和客户端的基石，它设计简洁、功能强大，并且是众多第三方 Web 框架（如 Gin、Echo）的底层依赖。无论你是想从零搭建一个高性能的 Web 服务，还是希望在使用框架时能深入理解其原理，掌握 net/http 都是必修课。本文将从零开始，以最新版本的 Go（语法层面无破坏性变更）为例，详细拆解 net/http 的核心概念、工作机制以及最佳实践。
        
        <hr><p>本文2026-02-17首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-17</p>]]></description><category>Go</category></item><item><title>在 Hugo 博客中使用阿里云 OSS 托管图片（含自动化迁移脚本）</title><link>https://Elari39.github.io/post/hugooss/</link><pubDate>Mon, 16 Feb 2026 20:00:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/hugooss/</guid><description>
<![CDATA[<h1>在 Hugo 博客中使用阿里云 OSS 托管图片（含自动化迁移脚本）</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <p>随着博客文章的增多，本地图片的管理和加载速度逐渐成为瓶颈。将图片托管到对象存储（如阿里云 OSS）不仅可以提升访问速度，还能减轻 Git 仓库的体积压力。</p>
<p>本文将详细介绍如何配置阿里云 OSS，并分享一个自动化脚本，帮助你一键迁移现有图片。</p>
<h2 id="为什么要用-oss">
<a class="header-anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e7%94%a8-oss"></a>
为什么要用 OSS？
</h2><ol>
<li><strong>访问速度快</strong>：配合 CDN，可以实现全球加速。</li>
<li><strong>节省流量</strong>：Git 仓库不再臃肿，克隆速度更快。</li>
<li><strong>管理方便</strong>：统一的云端管理，支持防盗链、水印等功能。</li>
</ol>
<h2 id="第一步阿里云-oss-配置">
<a class="header-anchor" href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e9%98%bf%e9%87%8c%e4%ba%91-oss-%e9%85%8d%e7%bd%ae"></a>
第一步：阿里云 OSS 配置
</h2><h3 id="1-创建-bucket">
<a class="header-anchor" href="#1-%e5%88%9b%e5%bb%ba-bucket"></a>
1. 创建 Bucket
</h3><p>登录 <a href="https://oss.console.aliyun.com/">阿里云 OSS 控制台</a>，点击“创建 Bucket”。</p>
<ul>
<li><strong>区域</strong>：选择离你（或你的受众）最近的区域。</li>
<li><strong>存储类型</strong>：标准存储。</li>
<li><strong>读写权限</strong>：<strong>公共读</strong>（必须，否则访客无法看到图片）。</li>
</ul>
<h3 id="2-获取-accesskey">
<a class="header-anchor" href="#2-%e8%8e%b7%e5%8f%96-accesskey"></a>
2. 获取 AccessKey
</h3><p>为了让脚本能自动上传图片，我们需要创建一个 AccessKey。</p>
<ol>
<li>进入 <a href="https://ram.console.aliyun.com/">RAM 访问控制</a>。</li>
<li>创建一个新用户，勾选“OpenAPI 调用访问”。</li>
<li>给该用户授权 <code>AliyunOSSFullAccess</code>（或者更精细的 <code>AliyunOSSWriteAccess</code>）。</li>
<li>记录下 <code>AccessKey ID</code> 和 <code>AccessKey Secret</code>。</li>
</ol>
<h2 id="第二步自动化迁移脚本">
<a class="header-anchor" href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e8%87%aa%e5%8a%a8%e5%8c%96%e8%bf%81%e7%a7%bb%e8%84%9a%e6%9c%ac"></a>
第二步：自动化迁移脚本
</h2><p>为了避免手动一张张上传和替换链接的繁琐，我编写了一个 Python 脚本。它会自动扫描 <code>content</code> 目录下的所有 Markdown 文件，识别本地图片引用，上传到 OSS，并替换为云端链接。</p>
<h3 id="1-准备环境">
<a class="header-anchor" href="#1-%e5%87%86%e5%a4%87%e7%8e%af%e5%a2%83"></a>
1. 准备环境
</h3><p>在博客根目录下创建 <code>.env</code> 文件，填入你的密钥（<strong>注意不要提交到 Git</strong>）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">OSS_ACCESS_KEY_ID</span><span class="o">=</span><span class="s">你的AccessKeyID</span>
</span></span><span class="line"><span class="cl"><span class="na">OSS_ACCESS_KEY_SECRET</span><span class="o">=</span><span class="s">你的AccessKeySecret</span>
</span></span></code></pre></div><p>确保 <code>.gitignore</code> 中包含 <code>.env</code>。</p>
        
        <hr><p>本文2026-02-16首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-16</p>]]></description><category>Hugo</category><category>技术教程</category></item><item><title>在 Hugo 博客中部署 OpenAI 格式的 AI 助手</title><link>https://Elari39.github.io/post/hugoai/</link><pubDate>Mon, 16 Feb 2026 19:17:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/hugoai/</guid><description>
<![CDATA[<h1>在 Hugo 博客中部署 OpenAI 格式的 AI 助手</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <p>在这个 AI 普及的时代，给自己的个人博客添加一个 AI 助手似乎成了一种新的“标配”。不仅可以增加互动性，还能让访客快速了解博客内容或进行闲聊。</p>
<p>本文将详细介绍如何在 Hugo 博客中，利用 Cloudflare Workers 部署一个兼容 OpenAI 接口格式（后端实际可对接 Gemini 等模型）的 AI 聊天插件。</p>
<h2 id="整体架构">
<a class="header-anchor" href="#%e6%95%b4%e4%bd%93%e6%9e%b6%e6%9e%84"></a>
整体架构
</h2><p>由于 Hugo 是静态网站生成器，无法直接在前端安全地调用需要 API Key 的 AI 接口。因此我们需要一个后端服务来中转请求、隐藏 Key 以及处理跨域（CORS）问题。</p>
<ul>
<li><strong>前端</strong>：嵌入在 Hugo 模板中的 HTML/JS，负责 UI 展示、Markdown 渲染和流式数据接收。</li>
<li><strong>后端</strong>：Cloudflare Workers，负责接收前端请求，转发给 AI 提供商（如 Google Gemini），并将结果流式返回。</li>
</ul>
<h2 id="第一步部署-cloudflare-workers">
<a class="header-anchor" href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e9%83%a8%e7%bd%b2-cloudflare-workers"></a>
第一步：部署 Cloudflare Workers
</h2><p>我们使用 Cloudflare Workers 作为 API 网关。它免费、速度快，且支持 Edge Runtime。</p>
<h3 id="worker-代码">
<a class="header-anchor" href="#worker-%e4%bb%a3%e7%a0%81"></a>
Worker 代码
</h3><p>创建一个新的 Worker，并写入以下代码。这段代码主要做了三件事：</p>
<ol>
<li>处理 <code>OPTIONS</code> 预检请求，解决跨域问题。</li>
<li>接收前端的 <code>messages</code> 数组，并可以注入 System Prompt（人设）。</li>
<li>将请求转发给上游 API（如 Gemini 的 OpenAI 兼容接口），并将响应流（Stream）原样透传回前端。</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">async</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">env</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 允许的来源域名，建议生产环境修改为具体域名
</span></span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">ALLOWED_ORIGIN</span> <span class="o">=</span> <span class="s2">&#34;*&#34;</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 1. 处理浏览器的预检请求 (CORS)
</span></span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span> <span class="o">===</span> <span class="s2">&#34;OPTIONS&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Access-Control-Allow-Origin&#34;</span><span class="o">:</span> <span class="nx">ALLOWED_ORIGIN</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Access-Control-Allow-Methods&#34;</span><span class="o">:</span> <span class="s2">&#34;POST, OPTIONS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Access-Control-Allow-Headers&#34;</span><span class="o">:</span> <span class="s2">&#34;Content-Type, Authorization&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span> <span class="o">!==</span> <span class="s2">&#34;POST&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="s2">&#34;Method Not Allowed&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">status</span><span class="o">:</span> <span class="mi">405</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">request</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">      <span class="c1">// 2. 注入 System Prompt (可选)
</span></span></span><span class="line"><span class="cl">      <span class="c1">// 可以在这里给 AI 设定一个身份，比如“博客助手”
</span></span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">messages</span> <span class="o">&amp;&amp;</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">messages</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">hasSystem</span> <span class="o">=</span> <span class="nx">body</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">some</span><span class="p">(</span><span class="nx">m</span> <span class="p">=&gt;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">role</span> <span class="o">===</span> <span class="s1">&#39;system&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasSystem</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">body</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">unshift</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">role</span><span class="o">:</span> <span class="s2">&#34;system&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">content</span><span class="o">:</span> <span class="s2">&#34;你是一个运行在 Elari39 博客上的 AI 助手。请用幽默、可爱的语气回答访客的问题。回复请尽量简短。&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nx">body</span><span class="p">.</span><span class="nx">stream</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// 强制开启流式
</span></span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// 从环境变量获取 API 地址和 Key
</span></span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">API_URL</span> <span class="o">=</span> <span class="nx">env</span><span class="p">.</span><span class="nx">GEMINI_API_URL</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">API_KEY</span> <span class="o">=</span> <span class="nx">env</span><span class="p">.</span><span class="nx">GEMINI_API_KEY</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">API_URL</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;POST&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Content-Type&#34;</span><span class="o">:</span> <span class="s2">&#34;application/json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Authorization&#34;</span><span class="o">:</span> <span class="sb">`Bearer </span><span class="si">${</span><span class="nx">API_KEY</span><span class="si">}</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="c1">// 3. 将流直接转发，并强制带上跨域头
</span></span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Content-Type&#34;</span><span class="o">:</span> <span class="s2">&#34;text/event-stream&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Access-Control-Allow-Origin&#34;</span><span class="o">:</span> <span class="nx">ALLOWED_ORIGIN</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;Cache-Control&#34;</span><span class="o">:</span> <span class="s2">&#34;no-cache&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">new</span> <span class="nx">Response</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">error</span><span class="o">:</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="p">}),</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">status</span><span class="o">:</span> <span class="mi">500</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Content-Type&#34;</span><span class="o">:</span> <span class="s2">&#34;application/json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Access-Control-Allow-Origin&#34;</span><span class="o">:</span> <span class="nx">ALLOWED_ORIGIN</span> 
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>记得在 Cloudflare 后台配置环境变量 <code>GEMINI_API_URL</code> 和 <code>GEMINI_API_KEY</code>。</p>
        
        <hr><p>本文2026-02-16首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-16</p>]]></description><category>Hugo</category><category>AI</category></item><item><title>GoCache 学习建议</title><link>https://Elari39.github.io/post/gocache/</link><pubDate>Sat, 14 Feb 2026 21:57:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/gocache/</guid><description>
<![CDATA[<h1>GoCache 学习建议</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <h1 id="学习建议">
<a class="header-anchor" href="#%e5%ad%a6%e4%b9%a0%e5%bb%ba%e8%ae%ae"></a>
学习建议
</h1><p><strong>完成项目指导时间</strong></p>
<ul>
<li>如果具备【基础要求】里的基础，每天 6 小时，约 7 天完成。</li>
<li>如果边学边做，每天 6~8 小时，约 15 天完成。</li>
</ul>
<p><strong>代码量</strong><br>
2000 行左右（除去测试代码）</p>
<hr>
<h2 id="基础要求">
<a class="header-anchor" href="#%e5%9f%ba%e7%a1%80%e8%a6%81%e6%b1%82"></a>
基础要求
</h2><ul>
<li><strong>Go 语言基础</strong>：goroutine、channel、接口等核心概念</li>
<li><strong>缓存原理</strong>：缓存淘汰策略（LRU、LFU 等）</li>
<li><strong>网络编程</strong>：gRPC 基础、HTTP 协议、TCP/IP</li>
</ul>
<hr>
<h2 id="循序渐进的学习顺序">
<a class="header-anchor" href="#%e5%be%aa%e5%ba%8f%e6%b8%90%e8%bf%9b%e7%9a%84%e5%ad%a6%e4%b9%a0%e9%a1%ba%e5%ba%8f"></a>
循序渐进的学习顺序
</h2><ol>
<li>
<p><strong>从单机缓存开始</strong></p>
<ul>
<li>先理解 <code>ByteView</code>、<code>lruCache</code> 等核心数据结构</li>
<li>熟悉 <code>Cache</code> 和基本的缓存操作</li>
</ul>
</li>
<li>
<p><strong>理解分组缓存</strong></p>
<ul>
<li>学习 <code>Group</code> 结构及其工作原理</li>
<li>掌握缓存加载、过期策略等机制</li>
</ul>
</li>
<li>
<p><strong>研究分布式扩展</strong></p>
<ul>
<li>一致性哈希算法实现</li>
<li>节点间通信协议</li>
<li>服务注册与发现</li>
</ul>
</li>
<li>
<p><strong>深入高级特性</strong></p>
<ul>
<li>缓存击穿防护</li>
<li>分段锁与高并发优化</li>
<li>优雅关闭与资源管理</li>
</ul>
</li>
</ol>
<hr>
<h2 id="代码阅读方式">
<a class="header-anchor" href="#%e4%bb%a3%e7%a0%81%e9%98%85%e8%af%bb%e6%96%b9%e5%bc%8f"></a>
代码阅读方式
</h2><ol>
<li>
<p><strong>绘制组件关系图</strong></p>
<ul>
<li>梳理核心接口和实现类</li>
<li>理清组件间的调用关系</li>
</ul>
</li>
<li>
<p><strong>断点调试关键流程</strong></p>
<ul>
<li><code>Set/Get</code> 操作的完整链路</li>
<li>分布式场景下的数据同步</li>
</ul>
</li>
<li>
<p><strong>编写单元测试</strong></p>
<ul>
<li>为关键组件编写测试用例</li>
<li>使用基准测试验证性能优化</li>
</ul>
</li>
<li>
<p><strong>模拟故障场景</strong></p>
<ul>
<li>节点宕机时的系统行为</li>
<li>网络分区下的一致性保证</li>
</ul>
</li>
</ol>
<hr>
<h2 id="什么是缓存">
<a class="header-anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e7%bc%93%e5%ad%98"></a>
什么是缓存
</h2><p>缓存是将高频访问的数据暂存到内存中，是加速数据访问的存储，降低延迟，提高吞吐率的利器。</p>
<h2 id="为什么要实现缓存系统">
<a class="header-anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e5%ae%9e%e7%8e%b0%e7%bc%93%e5%ad%98%e7%b3%bb%e7%bb%9f"></a>
为什么要实现缓存系统
</h2><p>因缓存的使用相关需求，通过牺牲一部分服务器内存，减少对磁盘或者数据库资源进行直接读写，可换取更快响应速度，尤其是处理高并发的场景，负责存储经常访问的数据，通过设计合理的缓存机制提高资源的访问效率。由于服务器的内存是有限的，我们不能把所有数据都存放在内存中，因此需要一种机制来决定当使用内存超过一定标准时，应该删除哪些数据，这就涉及到缓存淘汰策略的选择。</p>
        
        <hr><p>本文2026-02-14首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-14</p>]]></description><category>Go</category></item><item><title>Hugo博客配置</title><link>https://Elari39.github.io/post/hugoblog/hugo%E5%8D%9A%E5%AE%A2/</link><pubDate>Sat, 14 Feb 2026 12:00:00 +0800</pubDate><author>majo_elaina@qq.com (Elari39)</author><guid>https://Elari39.github.io/post/hugoblog/hugo%E5%8D%9A%E5%AE%A2/</guid><description>
<![CDATA[<h1>Hugo博客配置</h1><p>作者：Elari39（majo_elaina@qq.com）</p>
        
          <h2 id="按照必要环境">
<a class="header-anchor" href="#%e6%8c%89%e7%85%a7%e5%bf%85%e8%a6%81%e7%8e%af%e5%a2%83"></a>
按照必要环境
</h2><ol>
<li>Go环境：<a href="https://go.dev/dl/">All releases - The Go Programming Language</a></li>
<li>Hugo插件：<a href="https://github.com/gohugoio/hugo/releases">Releases · gohugoio/hugo</a></li>
<li>Git插件：<a href="https://git-scm.com/install/windows">Git - Install for Windows</a></li>
</ol>
<h2 id="初始化">
<a class="header-anchor" href="#%e5%88%9d%e5%a7%8b%e5%8c%96"></a>
初始化
</h2><ol>
<li>初始化博客</li>
</ol>
<pre tabindex="0"><code class="language-git" data-lang="git">hugo new site myblog
cd myblog
</code></pre><ol start="2">
<li>初始化模块</li>
</ol>
<pre tabindex="0"><code>hugo mod init myblog
</code></pre><ol start="3">
<li>安装主题并启动服务：</li>
</ol>
<blockquote>
<p>创建<code>config/_default/module.toml</code>,并在其中输入选择好的主题<code>(从[Hugo Themes](https://themes.gohugo.io/)从选择)</code>：</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">imports</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">path</span> <span class="p">=</span> <span class="s2">&#34;github.com/D-Sketon/hugo-theme-reimu&#34;</span>
</span></span></code></pre></div><blockquote>
<p>运行<code>hugo server</code>，自动安装主题并启动服务，<code>http://localhost:1313/</code></p>
</blockquote>
<h2 id="配置文件">
<a class="header-anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6"></a>
配置文件
</h2><ol>
<li>下载<a href="https://github.com/D-Sketon/hugo-theme-reimu">D-Sketon/hugo-theme-reimu: 一款博丽灵梦风格的Hugo主题 | A Hakurei Reimu style Hugo theme. 💘Touhou💘</a></li>
<li>将主题内的 <code>config/_default/params.yml</code> 复制到 <code>config/_default</code> 文件夹下，此文件作为主题配置文件，可在此文件中修改主题配置</li>
<li>将主题内的 <code>config/data/</code> 文件夹内的所有文件复制到外层 <code>data</code> 文件夹下，此文件夹内的文件用于配置主题内的数据：
<ul>
<li><code>covers.yml</code> 用于配置随机封面图片</li>
<li><code>friends.yml</code> 用于配置友链</li>
<li><code>vendor.yml</code> 用于配置第三方库的 CDN 源</li>
</ul>
</li>
</ol>
<h2 id="构建与部署">
<a class="header-anchor" href="#%e6%9e%84%e5%bb%ba%e4%b8%8e%e9%83%a8%e7%bd%b2"></a>
构建与部署
</h2><ol>
<li>创建<code>.gitignore</code>，忽略不需要上传的文件：</li>
</ol>
<pre tabindex="0"><code class="language-git" data-lang="git"># Hugo default
/public/
/resources/_gen/
.hugo_build.lock
/hugo_stats.json

# System Files
.DS_Store
Thumbs.db

# IDE &amp; Editors
.vscode/
.idea/
*.swp
*.swo
*~
*.orig
.history/
</code></pre><ol start="2">
<li>创建 GitHub Actions 部署脚本 <code>.github/workflows/deploy.yml</code>：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to GitHub Pages</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">permissions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l">write</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-22.04</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">concurrency</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l">${{ github.workflow }}-${{ github.ref }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">submodules</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Go</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-go@v5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">go-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;1.21&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Hugo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-hugo@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">hugo-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;latest&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">extended</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">hugo --minify --buildFuture</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l">github.ref == &#39;refs/heads/main&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">github_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITHUB_TOKEN }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./public</span><span class="w">
</span></span></span></code></pre></div><ol start="3">
<li>将整个项目上传至 GitHub 仓库（建议仓库名为 <code>your_name.github.io</code>）。</li>
<li>在 GitHub 仓库的 Settings -&gt; Pages 中，将 Source 设置为 <code>Deploy from a branch</code>，Branch 选择 <code>gh-pages</code>。</li>
<li>（可选）创建自动同步脚本 <code>sync.ps1</code>，用于快速提交并推送代码：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="c"># 自动同步脚本</span>
</span></span><span class="line"><span class="cl"><span class="c"># 功能：拉取最新代码 -&gt; 添加所有更改 -&gt; 提交 -&gt; 推送</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># 设置控制台输出编码为 UTF-8，防止乱码</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="no">Console</span><span class="p">]::</span><span class="n">OutputEncoding</span> <span class="p">=</span> <span class="p">[</span><span class="no">System.Text.Encoding</span><span class="p">]::</span><span class="n">UTF8</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">Write-Host</span> <span class="s2">&#34;正在拉取最新代码...&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">Cyan</span>
</span></span><span class="line"><span class="cl"><span class="n">git</span> <span class="n">pull</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nv">$LASTEXITCODE</span> <span class="o">-ne</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Error</span> <span class="s2">&#34;拉取失败，请检查冲突或网络连接。&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">exit</span> <span class="nv">$LASTEXITCODE</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">Write-Host</span> <span class="s2">&#34;正在添加更改...&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">Cyan</span>
</span></span><span class="line"><span class="cl"><span class="n">git</span> <span class="n">add</span> <span class="p">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$hasChanges</span> <span class="p">=</span> <span class="n">git</span> <span class="n">status</span> <span class="p">-</span><span class="n">-porcelain</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="o">-not</span> <span class="nv">$hasChanges</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s2">&#34;没有检测到更改。&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">Yellow</span>
</span></span><span class="line"><span class="cl">    <span class="n">exit</span> <span class="mf">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$commitMessage</span> <span class="p">=</span> <span class="nb">Read-Host</span> <span class="s2">&#34;请输入提交信息 (默认为 &#39;Update blog content&#39;)&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">([</span><span class="no">string</span><span class="p">]::</span><span class="n">IsNullOrWhiteSpace</span><span class="p">(</span><span class="nv">$commitMessage</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nv">$commitMessage</span> <span class="p">=</span> <span class="s2">&#34;Update blog content&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">Write-Host</span> <span class="s2">&#34;正在提交更改...&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">Cyan</span>
</span></span><span class="line"><span class="cl"><span class="n">git</span> <span class="n">commit</span> <span class="n">-m</span> <span class="s2">&#34;</span><span class="nv">$commitMessage</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">Write-Host</span> <span class="s2">&#34;正在推送到远程仓库...&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">Cyan</span>
</span></span><span class="line"><span class="cl"><span class="n">git</span> <span class="n">push</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nv">$LASTEXITCODE</span> <span class="o">-eq</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Host</span> <span class="s2">&#34;同步完成，GitHub Actions 将自动开始构建和部署。&#34;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">Write-Error</span> <span class="s2">&#34;推送失败，请检查网络连接或权限。&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
        
        <hr><p>本文2026-02-14首发于<a href='https://Elari39.github.io/'>Elari的博客</a>，最后修改于2026-02-14</p>]]></description><category>Hugo</category></item></channel></rss>